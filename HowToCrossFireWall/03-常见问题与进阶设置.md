# 03 - 常见问题与进阶设置

本教程将帮助你解决使用过程中的常见问题，并学习一些进阶设置。

## 📋 目录

- [常见问题](#常见问题)
- [进阶设置](#进阶设置)
- [使用建议](#使用建议)
- [注意事项](#注意事项)

---

## 常见问题

### 1. 连接后无法上网 ❌

**可能原因：**
- 系统代理未开启
- 节点失效
- 订阅过期
- 软件设置错误

**解决方法：**

#### ✅ 检查系统代理是否已开启

**Clash for Windows：**
- 确认左侧 `Settings` 中的 `System Proxy` 开关已打开
- 状态栏应该显示为蓝色

**V2rayN：**
- 右键任务栏图标
- 确认 `系统代理` 已启用
- 模式选择 `自动配置系统代理`

#### ✅ 尝试切换其他节点

- 当前节点可能失效或拥堵
- 测试几个不同地区的节点
- 选择延迟较低的节点

#### ✅ 检查订阅是否过期

- 登录机场官网查看套餐状态
- 检查流量是否用完
- 检查套餐是否到期

#### ✅ 重启代理软件

- 完全退出代理软件
- 重新启动软件
- 重新连接节点

#### ✅ 检查防火墙和杀毒软件

- Windows Defender 或其他杀毒软件可能拦截
- 尝试将代理软件添加到白名单
- 临时关闭防火墙测试

---

### 2. 速度很慢 🐌

**可能原因：**
- 节点拥堵
- 延迟高
- 本地网络问题
- 晚高峰时段

**解决方法：**

#### ✅ 选择延迟更低的节点

**如何测试延迟：**

**Clash for Windows：**
1. 点击 `Proxies`
2. 点击 `⚡` 图标测试延迟
3. 选择延迟最低的节点（通常 <100ms 较好）

**V2rayN：**
1. 右键节点
2. 选择 `测试服务器真连接延迟`
3. 选择延迟低的节点

#### ✅ 尝试不同地区的节点

- **延迟**优先级：香港 < 台湾 < 日本 < 新加坡 < 美国
- 距离越近延迟越低
- 但有时远距离节点带宽更大

#### ✅ 检查本地网络

- 测试本地网络速度（关闭代理，访问国内网站）
- 如果本地网速本身就慢，代理后也会慢
- 尝试重启路由器

#### ✅ 避开晚高峰

- 晚上 8-11 点是高峰期
- 可能出现拥堵
- 尝试更换节点或错峰使用

#### ✅ 考虑升级套餐

- 低价套餐通常共享带宽较多
- 升级到高级套餐可以获得更好的速度
- 或考虑购买专线机场

---

### 3. YouTube/Netflix 无法播放 🎬

**可能原因：**
- 节点不支持流媒体解锁
- IP 被识别为代理
- 地区限制

**解决方法：**

#### ✅ 选择流媒体专用节点

- 机场通常会标注流媒体节点
- 常见标识：
  - "Netflix"
  - "流媒体"
  - "解锁"
  - "Premium"
- 切换到这些节点

#### ✅ 尝试不同地区

**Netflix：**
- 美国、日本、新加坡节点通常可用
- 香港节点可能被屏蔽

**YouTube：**
- 几乎所有节点都可以
- 选择香港、日本节点延迟更低

**Disney+：**
- 美国、新加坡节点

#### ✅ 清除浏览器缓存

1. 按 `Ctrl + Shift + Delete`
2. 清除缓存和 Cookie
3. 重新打开网站

#### ✅ 尝试无痕模式

- Chrome：`Ctrl + Shift + N`
- Firefox：`Ctrl + Shift + P`
- 避免缓存影响

---

### 4. 订阅更新失败 🔄

**可能原因：**
- 订阅链接错误
- 网络问题
- 机场服务异常

**解决方法：**

#### ✅ 检查订阅链接

- 重新登录机场官网
- 复制最新的订阅链接
- 确保链接完整，没有多余空格

#### ✅ 手动更新

**Clash for Windows：**
1. 点击 `订阅`
2. 找到对应的订阅
3. 点击 `更新` 按钮

**V2rayN：**
1. 右键任务栏图标
2. `订阅` -> `更新订阅`

#### ✅ 检查机场状态

- 访问机场官网查看公告
- 加入机场 Telegram 群组
- 联系客服确认服务状态

#### ✅ 删除后重新添加

- 删除当前订阅
- 重新添加订阅链接
- 可以解决缓存问题

---

### 5. 代理软件无法启动 ⚠️

**可能原因：**
- 端口占用
- 权限不足
- 文件损坏
- 杀毒软件拦截

**解决方法：**

#### ✅ 以管理员身份运行

**Windows：**
- 右键软件图标
- 选择 `以管理员身份运行`

#### ✅ 关闭杀毒软件

- 临时关闭 Windows Defender
- 关闭其他杀毒软件
- 测试软件能否启动
- 如果可以，将软件添加到白名单

#### ✅ 检查端口占用

**Windows：**
```powershell
# 检查端口 7890 是否被占用（Clash 默认端口）
netstat -ano | findstr :7890

# 如果被占用，查看是哪个程序
tasklist | findstr <PID>

# 结束占用的进程
taskkill /F /PID <PID>
```

#### ✅ 重新安装

- 完全卸载当前软件
- 删除配置文件夹（备份重要配置）
- 重新下载安装

#### ✅ 检查依赖

**Windows：**
- 确保安装了 `.NET Framework` 或 `.NET Core`
- 更新到最新版本

---

### 6. 特定网站无法访问 🚫

**可能原因：**
- 分流规则设置
- DNS 污染
- 网站本身问题

**解决方法：**

#### ✅ 检查代理模式

**Clash for Windows：**
- 切换到 `全局模式`（Global）测试
- 如果可以访问，说明是分流规则问题
- 可以在 `规则模式` 下添加该网站的代理规则

**V2rayN：**
- 切换到 `全局模式`
- 测试能否访问

#### ✅ 清除 DNS 缓存

**Windows：**
```powershell
ipconfig /flushdns
```

**macOS：**
```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

**Linux：**
```bash
sudo systemd-resolve --flush-caches
```

#### ✅ 尝试不同节点

- 某些网站可能屏蔽特定地区 IP
- 切换到其他地区节点测试

---

### 7. 手机无法连接 📱

**可能原因：**
- VPN 权限未授予
- 配置错误
- 系统限制

**解决方法：**

#### ✅ 授予 VPN 权限

**Android：**
- 首次启动会提示 VPN 权限
- 必须点击 `确定` 允许
- 如果不小心拒绝，需要在系统设置中手动授予

**iOS：**
- 首次使用会提示添加 VPN 配置
- 必须点击 `允许`
- 需要输入设备密码确认

#### ✅ 检查配置

- 确保订阅链接正确
- 尝试删除配置重新导入
- 检查流量是否用完

#### ✅ 重启手机

- 简单但有效的方法
- 关机等待 10 秒后重新开机
- 重新启动代理软件

---

### 8. 电脑和手机能同时用吗？ 🖥️📱

**答案：可以！**

大多数机场支持多设备同时在线：

- **常见限制**：3-5 个设备同时在线
- **超出限制**：可能被暂时封禁
- **查看限制**：机场官网的套餐说明

**使用建议：**
- 不要与太多人共享账号
- 不要超过机场的设备数量限制
- 不同设备使用同一个订阅链接即可

---

## 进阶设置

### 分流规则 🎯

分流规则可以智能分流流量，提高效率：

- ✅ **国内网站直连**（不走代理，速度更快）
- ✅ **国外网站走代理**
- ✅ **节省流量**

#### Clash 分流规则

大多数 Clash 订阅都内置了分流规则，通常选择 `规则模式` 即可。

**规则优先级：**
```
1. 直连规则（国内网站）
2. 代理规则（国外网站）
3. 默认规则（未匹配的流量）
```

#### 自定义规则

**Clash for Windows：**
1. 点击 `Settings`
2. 滚动到 `Profile Mixin`
3. 可以添加自定义规则

**常见规则示例：**
```yaml
rules:
  - DOMAIN-SUFFIX,google.com,PROXY  # Google 走代理
  - DOMAIN-SUFFIX,baidu.com,DIRECT   # 百度直连
  - DOMAIN-KEYWORD,github,PROXY      # 包含 github 的走代理
  - GEOIP,CN,DIRECT                  # 国内 IP 直连
  - MATCH,PROXY                      # 其他走代理
```

---

### 代理模式说明 🔧

#### 1. 全局模式（Global）

- **工作方式**：所有流量都走代理
- **优点**：确保所有网站都通过代理访问
- **缺点**：
  - 访问国内网站也走代理，速度慢
  - 浪费流量
  - 某些国内网站可能无法访问

**适用场景：**
- 测试代理是否正常
- 临时需要所有流量走代理

---

#### 2. 规则模式（Rule）⭐ 推荐

- **工作方式**：根据规则自动判断
  - 国内网站 → 直连
  - 国外网站 → 代理
- **优点**：
  - 智能分流，效率最高
  - 国内网站速度快
  - 节省流量
- **缺点**：
  - 依赖规则准确性
  - 某些小众网站可能分流错误

**适用场景：**
- 日常使用（最推荐）
- 既要访问国内又要访问国外网站

---

#### 3. 直连模式（Direct）

- **工作方式**：不使用代理，正常上网
- **优点**：
  - 完全不影响正常上网
  - 国内网站速度最快
- **缺点**：
  - 无法访问被墙网站

**适用场景：**
- 临时不需要使用代理
- 玩国内网游（避免增加延迟）
- 访问银行网站等敏感操作

---

### PAC 模式

- 类似规则模式
- 使用 PAC 文件控制分流
- 部分软件支持（如 V2rayN）

---

### TUN 模式（进阶）

- 虚拟网卡模式
- 可以代理所有应用流量（不仅是浏览器）
- 适合游戏、桌面应用等

**启用方法（Clash for Windows）：**
1. 点击 `General`
2. 找到 `TUN Mode`
3. 开启（需要管理员权限）

---

## 使用建议

### 1. 不要同时开启多个代理软件 ⚠️

- **问题**：会造成端口冲突和流量混乱
- **建议**：只使用一个代理软件
- **如果需要切换**：
  1. 完全退出当前软件
  2. 再启动另一个软件

---

### 2. 选择就近节点 🌏

- **原则**：地理位置越近，延迟越低
- **大陆用户**：香港、台湾、日本、新加坡
- **北美用户**：美国西部、美国东部
- **欧洲用户**：英国、德国、法国

**延迟参考：**
- ✅ 优秀：< 50ms
- ✅ 良好：50-100ms
- ⚠️ 一般：100-200ms
- ❌ 较差：> 200ms

---

### 3. 定期更新订阅 🔄

- **频率**：建议每周更新一次
- **好处**：
  - 获取最新节点
  - 移除失效节点
  - 获得机场的最新配置

**如何设置自动更新：**

**Clash for Windows：**
1. 点击 `订阅`
2. 找到对应订阅
3. 可以设置自动更新间隔

---

### 4. 合理使用流量 📊

**流量使用参考：**

| 活动 | 流量消耗 |
|------|----------|
| 网页浏览 | 1-2 MB/页 |
| 刷社交媒体 | 50-100 MB/小时 |
| 听音乐 | 50 MB/小时 |
| 看视频 (480P) | 300 MB/小时 |
| 看视频 (720P) | 500 MB/小时 |
| 看视频 (1080P) | 1.5 GB/小时 |
| 看视频 (4K) | 7 GB/小时 |
| 下载文件 | 按实际大小 |

**省流量技巧：**
- ✅ 使用规则模式（国内网站不走代理）
- ✅ 降低视频画质（YouTube 选择 720P 而不是 1080P）
- ✅ 避免在代理环境下载大文件
- ✅ 使用国内源（如 npm 淘宝源）
- ✅ 合理利用晚高峰避峰时段

---

### 5. 遵守法律法规 ⚖️

- ✅ 仅用于学习和工作
- ❌ 不要访问非法网站
- ❌ 不要发布违法内容
- ❌ 不要用于违法活动

---

## 注意事项

### 🔒 安全提醒

#### 1. 不要在代理环境下进行敏感操作

- ❌ 网银转账
- ❌ 股票交易
- ❌ 支付密码输入
- ❌ 政府网站登录

**原因：**
- 代理服务器可以看到你的流量
- 存在中间人攻击风险
- 某些网站会检测代理并限制操作

**建议：**
- 进行敏感操作时，关闭代理
- 使用直连模式访问这些网站

---

#### 2. 选择可信赖的机场服务商

- ✅ 查看机场运营时间
- ✅ 阅读用户评价
- ✅ 了解机场的隐私政策
- ❌ 不要使用免费机场（可能窃取数据）
- ❌ 不要使用来源不明的机场

---

#### 3. 定期修改机场账号密码

- 建议每 3-6 个月更换一次密码
- 使用强密码（大小写 + 数字 + 符号）
- 不要在多个网站使用相同密码
- 建议使用密码管理器（如 Bitwarden、1Password）

---

#### 4. 不要在公共电脑上保存订阅信息

- 网吧、图书馆等公共电脑
- 使用无痕/隐私模式
- 使用完退出并清除记录
- 不要保存密码和订阅链接

---

### 💾 备份建议

#### 备份订阅链接

- 保存在密码管理器中
- 或加密笔记中
- 不要保存在明文文件中

#### 备份配置文件

**Clash for Windows：**
- 配置目录：`%USERPROFILE%\.config\clash`
- 备份整个文件夹

**V2rayN：**
- 配置目录：软件安装目录下的 `guiConfigs` 文件夹
- 备份 `guiNConfig.json` 文件

---

### 🆘 遇到问题怎么办

#### 1. 查看机场公告

- 访问机场官网
- 查看是否有维护通知
- 了解已知问题

#### 2. 加入机场社群

- Telegram 群组
- QQ 群
- 可以获得及时帮助

#### 3. 联系客服

- 提交工单
- 在线客服
- 发送邮件

**提交工单时提供的信息：**
- 使用的设备和系统
- 使用的软件和版本
- 问题详细描述
- 截图（如果可能）

#### 4. 准备备用方案

- 订阅 2-3 个机场作为备用
- 防止单个机场出问题时无法上网
- 不同机场可以互相备份

---

## 📚 相关教程

- 👈 [返回总览](./README.md)
- 👈 [01 - 代理软件安装](./01-代理软件安装.md)
- 👈 [02 - 机场订阅配置](./02-机场订阅配置.md)

---

## 💬 最后的话

科学上网是为了更好地学习和工作，希望大家：

1. ✅ 合法合规使用
2. ✅ 保护个人隐私和安全
3. ✅ 理性消费，按需选择
4. ✅ 帮助身边的人正确使用

---

如有任何问题，欢迎提 Issue 讨论！

Happy Surfing! 🚀

