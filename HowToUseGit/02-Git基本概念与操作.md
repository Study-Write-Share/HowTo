# 02 - Git åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ

æœ¬æ•™ç¨‹å°†ä»‹ç» Git çš„æ ¸å¿ƒæ¦‚å¿µå’Œæ—¥å¸¸ä½¿ç”¨çš„åŸºæœ¬æ“ä½œã€‚

## ğŸ“‹ ç›®å½•

- [Git åŸºæœ¬æ¦‚å¿µ](#git-åŸºæœ¬æ¦‚å¿µ)
- [Git åŸºæœ¬æ“ä½œ](#git-åŸºæœ¬æ“ä½œ)
- [å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥](#å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥)
- [ä½¿ç”¨ .gitignore](#ä½¿ç”¨-gitignore)

---

## Git åŸºæœ¬æ¦‚å¿µï¼ˆä¸æ˜¯å®Œæ•´å·¥ä½œæµç¨‹ )

### å·¥ä½œåŒºåŸŸ

Git æœ‰ä¸‰ä¸ªä¸»è¦å·¥ä½œåŒºåŸŸï¼š

#### 1. å·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰
   - ä½ å®é™…ç¼–è¾‘æ–‡ä»¶çš„åœ°æ–¹
   - åŒ…å«é¡¹ç›®çš„å®é™…æ–‡ä»¶
   - å¯ä»¥çœ‹åˆ°å’Œä¿®æ”¹çš„æ–‡ä»¶

#### 2. æš‚å­˜åŒºï¼ˆStaging Area / Indexï¼‰
   - ä¸´æ—¶å­˜å‚¨å‡†å¤‡æäº¤çš„ä¿®æ”¹
   - ä»‹äºå·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“ä¹‹é—´
   - ä½¿ç”¨ `git add` å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº

#### 3. æœ¬åœ°ä»“åº“ï¼ˆLocal Repositoryï¼‰
   - å­˜å‚¨é¡¹ç›®çš„å®Œæ•´å†å²è®°å½•
   - `.git` ç›®å½•ä¸­çš„å†…å®¹
   - ä½¿ç”¨ `git commit` å°†æš‚å­˜åŒºå†…å®¹æäº¤åˆ°ä»“åº“

**å·¥ä½œæµç¨‹ç¤ºæ„å›¾ï¼š**
```
å·¥ä½œç›®å½• ---git add---> æš‚å­˜åŒº ---git commit---> æœ¬åœ°ä»“åº“ ---git push---> è¿œç¨‹ä»“åº“
          <--git checkout--     <--git reset--      <--git pull--
```

---

### æ–‡ä»¶çŠ¶æ€

Git ä¸­çš„æ–‡ä»¶æœ‰å››ç§çŠ¶æ€ï¼š

- **æœªè·Ÿè¸ªï¼ˆUntrackedï¼‰**ï¼šæ–°å»ºçš„æ–‡ä»¶ï¼ŒGit è¿˜æœªç®¡ç†
- **å·²ä¿®æ”¹ï¼ˆModifiedï¼‰**ï¼šæ–‡ä»¶è¢«ä¿®æ”¹ä½†æœªæš‚å­˜
- **å·²æš‚å­˜ï¼ˆStagedï¼‰**ï¼šæ–‡ä»¶å·²æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œç­‰å¾…æäº¤
- **å·²æäº¤ï¼ˆCommittedï¼‰**ï¼šæ–‡ä»¶å·²ä¿å­˜åˆ°æœ¬åœ°ä»“åº“

**çŠ¶æ€è½¬æ¢ï¼š**
```
æœªè·Ÿè¸ª ---git add---> å·²æš‚å­˜
å·²ä¿®æ”¹ ---git add---> å·²æš‚å­˜
å·²æš‚å­˜ ---git commit---> å·²æäº¤
å·²æäº¤ ---ä¿®æ”¹æ–‡ä»¶---> å·²ä¿®æ”¹
```

---

## Git åŸºæœ¬æ“ä½œ

### 1. åˆå§‹åŒ–ä»“åº“

**åœ¨ç°æœ‰ç›®å½•ä¸­åˆå§‹åŒ– Git ä»“åº“ï¼š**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/your/project

# åˆå§‹åŒ– Git ä»“åº“
git init

# è¿™ä¼šåˆ›å»ºä¸€ä¸ª .git ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦çš„ä»“åº“æ–‡ä»¶
```

**è¯´æ˜ï¼š**
- `.git` ç›®å½•åŒ…å« Git çš„æ‰€æœ‰å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“
- ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ `.git` ç›®å½•ä¸­çš„å†…å®¹
- åˆ é™¤ `.git` ç›®å½•ä¼šåˆ é™¤æ‰€æœ‰ç‰ˆæœ¬å†å²

---

### 2. å…‹éš†é¡¹ç›®ï¼ˆCloneï¼‰

ä»è¿œç¨‹ä»“åº“è·å–ç°æœ‰é¡¹ç›®ï¼š

```bash
# ä½¿ç”¨ HTTPS å…‹éš†
git clone https://github.com/ç”¨æˆ·å/ä»“åº“å.git

# ä½¿ç”¨ SSH å…‹éš†ï¼ˆéœ€è¦å…ˆé…ç½® SSH å¯†é’¥ï¼‰
git clone git@github.com:ç”¨æˆ·å/ä»“åº“å.git

# å…‹éš†åˆ°æŒ‡å®šç›®å½•
git clone https://github.com/ç”¨æˆ·å/ä»“åº“å.git è‡ªå®šä¹‰ç›®å½•å

# æµ…å…‹éš†ï¼ˆåªå…‹éš†æœ€è¿‘çš„æäº¤å†å²ï¼Œé€Ÿåº¦å¿«ï¼‰
git clone --depth 1 https://github.com/ç”¨æˆ·å/ä»“åº“å.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd ä»“åº“å
```

**HTTPS vs SSHï¼š**
- **HTTPS**ï¼š
  - âœ… æ— éœ€é…ç½®ï¼Œç›´æ¥ä½¿ç”¨
  - âŒ æ¯æ¬¡ push éœ€è¦è¾“å…¥å¯†ç ï¼ˆæˆ–ä½¿ç”¨ tokenï¼‰
  - âœ… é€‚åˆä¸´æ—¶å…‹éš†

- **SSH**ï¼š
  - âœ… é…ç½®åæ— éœ€è¾“å…¥å¯†ç 
  - âŒ éœ€è¦å…ˆé…ç½® SSH å¯†é’¥
  - âœ… é€‚åˆé•¿æœŸä½¿ç”¨

---

### 3. æŸ¥çœ‹çŠ¶æ€

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# ç®€æ´è¾“å‡º
git status -s

# æŸ¥çœ‹å…·ä½“ä¿®æ”¹å†…å®¹
git diff

# æŸ¥çœ‹æš‚å­˜åŒºçš„ä¿®æ”¹
git diff --staged
# æˆ–
git diff --cached

# æŸ¥çœ‹å·¥ä½œåŒºå’Œæœ€æ–°æäº¤çš„å·®å¼‚
git diff HEAD
```

**`git status` è¾“å‡ºè¯´æ˜ï¼š**

```bash
On branch main                    # å½“å‰åˆ†æ”¯
Your branch is up to date with 'origin/main'.  # ä¸è¿œç¨‹åˆ†æ”¯åŒæ­¥

Changes to be committed:          # å·²æš‚å­˜çš„ä¿®æ”¹ï¼ˆç»¿è‰²ï¼‰
  (use "git restore --staged <file>..." to unstage)
        new file:   file1.txt
        modified:   file2.txt

Changes not staged for commit:   # å·²ä¿®æ”¹ä½†æœªæš‚å­˜ï¼ˆçº¢è‰²ï¼‰
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   file3.txt

Untracked files:                  # æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼ˆçº¢è‰²ï¼‰
  (use "git add <file>..." to include in what will be committed)
        file4.txt
```

---

### 4. æ·»åŠ åˆ°æš‚å­˜åŒº

```bash
# æ·»åŠ å•ä¸ªæ–‡ä»¶
git add æ–‡ä»¶å

# æ·»åŠ å¤šä¸ªæ–‡ä»¶
git add æ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶3

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æ·»åŠ æ‰€æœ‰ .js æ–‡ä»¶
git add *.js

# æ·»åŠ æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
git add src/

# äº¤äº’å¼æ·»åŠ ï¼ˆå¯ä»¥é€‰æ‹©éƒ¨åˆ†ä¿®æ”¹ï¼‰
git add -p
# æˆ–
git add --patch
```

**`git add -p` äº¤äº’å¼æ·»åŠ ï¼š**
- `y` - æš‚å­˜è¿™ä¸ªå—
- `n` - ä¸æš‚å­˜è¿™ä¸ªå—
- `s` - å°†è¿™ä¸ªå—åˆ†å‰²æˆæ›´å°çš„å—
- `e` - æ‰‹åŠ¨ç¼–è¾‘è¿™ä¸ªå—
- `q` - é€€å‡º
- `?` - æŸ¥çœ‹å¸®åŠ©

---

### 5. æäº¤ä¿®æ”¹ï¼ˆCommitï¼‰

```bash
# æäº¤æš‚å­˜åŒºçš„ä¿®æ”¹
git commit -m "æäº¤ä¿¡æ¯ï¼šæè¿°ä½ åšäº†ä»€ä¹ˆ"

# æ·»åŠ å¹¶æäº¤ï¼ˆè·³è¿‡ git addï¼‰
git commit -am "æäº¤ä¿¡æ¯"
# æ³¨æ„ï¼šåªå¯¹å·²è·Ÿè¸ªçš„æ–‡ä»¶æœ‰æ•ˆï¼Œæ–°æ–‡ä»¶ä»éœ€ git add

# æ‰“å¼€ç¼–è¾‘å™¨ç¼–å†™è¯¦ç»†æäº¤ä¿¡æ¯
git commit

# ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤
git commit --amend

# ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤ä¿¡æ¯
git commit --amend -m "æ–°çš„æäº¤ä¿¡æ¯"

# ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤ï¼Œä¸æ”¹æ¶ˆæ¯
git commit --amend --no-edit
```

---

#### æäº¤ä¿¡æ¯ç¼–å†™è§„èŒƒ

ä½¿ç”¨ Conventional Commits è§„èŒƒï¼š

**æ ¼å¼ï¼š**
```
<type>(<scope>): <subject>

<body>

<footer>
```

**ç±»å‹ï¼ˆtypeï¼‰ï¼š**
- `feat` - æ–°åŠŸèƒ½
- `fix` - Bug ä¿®å¤
- `docs` - æ–‡æ¡£æ›´æ–°
- `style` - ä»£ç æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“ä»£ç é€»è¾‘ï¼‰
- `refactor` - ä»£ç é‡æ„
- `perf` - æ€§èƒ½ä¼˜åŒ–
- `test` - æµ‹è¯•ç›¸å…³
- `chore` - æ„å»º/å·¥å…·å˜åŠ¨
- `ci` - CI é…ç½®

**ç¤ºä¾‹ï¼š**

```bash
# ç®€å•æäº¤
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
git commit -m "fix: ä¿®å¤é¦–é¡µåŠ è½½ç¼“æ…¢çš„é—®é¢˜"
git commit -m "docs: æ›´æ–° README å®‰è£…è¯´æ˜"

# å¸¦ä½œç”¨åŸŸ
git commit -m "feat(auth): æ·»åŠ  JWT éªŒè¯"
git commit -m "fix(ui): ä¿®å¤æŒ‰é’®æ ·å¼é”™ä¹±"

# è¯¦ç»†æäº¤ï¼ˆæ‰“å¼€ç¼–è¾‘å™¨ï¼‰
feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½

- å®ç°ç™»å½• API
- æ·»åŠ  JWT token éªŒè¯
- æ›´æ–°ç”¨æˆ·ç•Œé¢

Closes #123
```

---

### 6. æŸ¥çœ‹æäº¤å†å²

```bash
# æŸ¥çœ‹æäº¤å†å²
git log

# ç®€æ´æŸ¥çœ‹å†å²ï¼ˆæ¯ä¸ªæäº¤ä¸€è¡Œï¼‰
git log --oneline

# å›¾å½¢åŒ–æŸ¥çœ‹åˆ†æ”¯
git log --graph --oneline --all

# æŸ¥çœ‹æœ€è¿‘ 5 æ¬¡æäº¤
git log -5
# æˆ–
git log -n 5

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²
git log -- æ–‡ä»¶å

# æŸ¥çœ‹æŸä¸ªä½œè€…çš„æäº¤
git log --author="ä½œè€…å"

# æŸ¥çœ‹æŸä¸ªæ—¶é—´æ®µçš„æäº¤
git log --since="2024-01-01"
git log --since="2 weeks ago"

# æŸ¥çœ‹åŒ…å«æŸä¸ªå…³é”®è¯çš„æäº¤
git log --grep="å…³é”®è¯"

# æŸ¥çœ‹æŸæ¬¡æäº¤çš„è¯¦æƒ…
git show <commit-id>

# æŸ¥çœ‹æŸæ¬¡æäº¤çš„æ–‡ä»¶å˜æ›´
git show <commit-id> --stat
```

**`git log` è¾“å‡ºç¤ºä¾‹ï¼š**
```
commit a1b2c3d4e5f6g7h8i9j0 (HEAD -> main, origin/main)
Author: å¼ ä¸‰ <zhangsan@example.com>
Date:   Mon Oct 28 10:00:00 2024 +0800

    feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
    
    - å®ç°ç™»å½• API
    - æ·»åŠ  JWT éªŒè¯
```

---

### 7. æ’¤é”€æ“ä½œ

#### æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹ï¼ˆæœªæš‚å­˜ï¼‰

```bash
# æ’¤é”€å•ä¸ªæ–‡ä»¶çš„ä¿®æ”¹
git checkout -- æ–‡ä»¶å

# æˆ–ä½¿ç”¨æ–°å‘½ä»¤ï¼ˆGit 2.23+ï¼‰
git restore æ–‡ä»¶å

# æ’¤é”€æ‰€æœ‰ä¿®æ”¹
git checkout -- .
# æˆ–
git restore .
```

**âš ï¸ è­¦å‘Š**ï¼šè¿™ä¼šæ°¸ä¹…ä¸¢å¤±å·¥ä½œåŒºçš„ä¿®æ”¹ï¼

---

#### å–æ¶ˆæš‚å­˜ï¼ˆæ–‡ä»¶å›åˆ°å·¥ä½œåŒºï¼‰

```bash
# å–æ¶ˆå•ä¸ªæ–‡ä»¶çš„æš‚å­˜
git reset HEAD æ–‡ä»¶å

# æˆ–ä½¿ç”¨æ–°å‘½ä»¤ï¼ˆGit 2.23+ï¼‰
git restore --staged æ–‡ä»¶å

# å–æ¶ˆæ‰€æœ‰æ–‡ä»¶çš„æš‚å­˜
git reset HEAD
# æˆ–
git restore --staged .
```

**è¯´æ˜**ï¼šæ–‡ä»¶ä¿®æ”¹ä»åœ¨ï¼Œåªæ˜¯ä»æš‚å­˜åŒºç§»é™¤ã€‚

---

#### æ’¤é”€æäº¤

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™ä¿®æ”¹åœ¨å·¥ä½œåŒºï¼‰
git reset --soft HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™ä¿®æ”¹åœ¨æš‚å­˜åŒºï¼‰
git reset --mixed HEAD~1
# æˆ–
git reset HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼‰âš ï¸ å±é™©
git reset --hard HEAD~1

# æ’¤é”€æœ€è¿‘ 3 æ¬¡æäº¤
git reset --soft HEAD~3
```

**`HEAD~1` è¯´æ˜ï¼š**
- `HEAD` - å½“å‰æäº¤
- `HEAD~1` - ä¸Šä¸€æ¬¡æäº¤
- `HEAD~2` - ä¸Šä¸Šæ¬¡æäº¤
- æˆ–ä½¿ç”¨ commit idï¼š`git reset --soft a1b2c3d`

---

#### åå‘æäº¤ï¼ˆæ¨èï¼Œä¸æ”¹å˜å†å²ï¼‰

```bash
# åˆ›å»ºä¸€ä¸ªæ–°æäº¤æ¥æ’¤é”€æŸæ¬¡æäº¤
git revert <commit-id>

# æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤
git revert HEAD

# æ’¤é”€å¤šä¸ªæäº¤
git revert HEAD~3..HEAD
```

**`reset` vs `revert`ï¼š**
- **reset**ï¼šç›´æ¥åˆ é™¤æäº¤å†å²ï¼ˆå±é™©ï¼Œä¸æ¨èç”¨äºå·²æ¨é€çš„æäº¤ï¼‰
- **revert**ï¼šåˆ›å»ºæ–°æäº¤æ¥æ’¤é”€ï¼ˆå®‰å…¨ï¼Œæ¨èï¼‰

---

### 8. è¿œç¨‹ä»“åº“æ“ä½œ

#### æŸ¥çœ‹è¿œç¨‹ä»“åº“

```bash
# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…å« URLï¼‰
git remote -v

# æŸ¥çœ‹æŸä¸ªè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯
git remote show origin
```

---

#### æ·»åŠ è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add <è¿œç¨‹ä»“åº“å> <url>

# é€šå¸¸ä½¿ç”¨ origin ä½œä¸ºè¿œç¨‹ä»“åº“å
git remote add origin https://github.com/ç”¨æˆ·å/ä»“åº“å.git
```

---

#### ä¿®æ”¹è¿œç¨‹ä»“åº“

```bash
# ä¿®æ”¹è¿œç¨‹ä»“åº“ URL
git remote set-url origin <new-url>

# é‡å‘½åè¿œç¨‹ä»“åº“
git remote rename origin new-origin

# åˆ é™¤è¿œç¨‹ä»“åº“
git remote remove origin
```

---

#### è·å–è¿œç¨‹æ›´æ–°

```bash
# è·å–è¿œç¨‹æ›´æ–°ï¼ˆä¸åˆå¹¶ï¼‰
git fetch
# æˆ–æŒ‡å®šè¿œç¨‹ä»“åº“
git fetch origin

# è·å–è¿œç¨‹æ›´æ–°å¹¶åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
git pull
# ç­‰åŒäº
git fetch + git merge

# ä½¿ç”¨ rebase æ–¹å¼æ‹‰å–ï¼ˆä¿æŒçº¿æ€§å†å²ï¼‰
git pull --rebase
```

**`fetch` vs `pull`ï¼š**
- **fetch**ï¼šåªä¸‹è½½è¿œç¨‹æ›´æ–°ï¼Œä¸åˆå¹¶ï¼ˆå®‰å…¨ï¼‰
- **pull**ï¼šä¸‹è½½å¹¶è‡ªåŠ¨åˆå¹¶ï¼ˆå¯èƒ½äº§ç”Ÿå†²çªï¼‰

---

#### æ¨é€åˆ°è¿œç¨‹ä»“åº“

```bash
# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push

# ç¬¬ä¸€æ¬¡æ¨é€æ–°åˆ†æ”¯ï¼ˆå»ºç«‹è¿½è¸ªå…³ç³»ï¼‰
git push -u origin åˆ†æ”¯å
# æˆ–
git push --set-upstream origin åˆ†æ”¯å

# æ¨é€æ‰€æœ‰åˆ†æ”¯
git push --all

# æ¨é€æ ‡ç­¾
git push --tags

# å¼ºåˆ¶æ¨é€ï¼ˆâš ï¸ è°¨æ…ä½¿ç”¨ï¼‰
git push -f origin åˆ†æ”¯å
# æˆ–
git push --force origin åˆ†æ”¯å

# æ›´å®‰å…¨çš„å¼ºåˆ¶æ¨é€ï¼ˆæ£€æŸ¥è¿œç¨‹æ˜¯å¦æœ‰æ–°æäº¤ï¼‰
git push --force-with-lease origin åˆ†æ”¯å
```

**âš ï¸ å¼ºåˆ¶æ¨é€è­¦å‘Š**ï¼š
- ä¼šè¦†ç›–è¿œç¨‹ä»“åº“çš„å†å²
- å¯èƒ½å¯¼è‡´å…¶ä»–äººçš„æäº¤ä¸¢å¤±
- ä»…åœ¨ç¡®è®¤å®‰å…¨çš„æƒ…å†µä¸‹ä½¿ç”¨

---

### 9. ä¿å­˜å·¥ä½œè¿›åº¦ï¼ˆStashï¼‰

å½“éœ€è¦ä¸´æ—¶åˆ‡æ¢åˆ†æ”¯ä½†ä¸æƒ³æäº¤å½“å‰ä¿®æ”¹æ—¶ï¼š

```bash
# ä¿å­˜å·¥ä½œè¿›åº¦
git stash

# ä¿å­˜å·¥ä½œè¿›åº¦å¹¶æ·»åŠ è¯´æ˜
git stash save "å·¥ä½œè¿›åº¦è¯´æ˜"

# åŒ…å«æœªè·Ÿè¸ªçš„æ–‡ä»¶
git stash -u
# æˆ–
git stash --include-untracked

# æŸ¥çœ‹ä¿å­˜çš„å·¥ä½œè¿›åº¦
git stash list

# æ¢å¤æœ€è¿‘çš„å·¥ä½œè¿›åº¦ï¼ˆä¿ç•™ stashï¼‰
git stash apply

# æ¢å¤æœ€è¿‘çš„å·¥ä½œè¿›åº¦ï¼ˆåˆ é™¤ stashï¼‰
git stash pop

# æ¢å¤æŒ‡å®šçš„å·¥ä½œè¿›åº¦
git stash apply stash@{0}
git stash pop stash@{1}

# æŸ¥çœ‹ stash çš„å†…å®¹
git stash show
git stash show -p  # æ˜¾ç¤ºè¯¦ç»†å·®å¼‚

# åˆ é™¤å·¥ä½œè¿›åº¦
git stash drop stash@{0}

# æ¸…ç©ºæ‰€æœ‰å·¥ä½œè¿›åº¦
git stash clear
```

**ä½¿ç”¨åœºæ™¯ï¼š**
1. ä¸´æ—¶åˆ‡æ¢åˆ†æ”¯å¤„ç†ç´§æ€¥é—®é¢˜
2. æ‹‰å–è¿œç¨‹æ›´æ–°å‰ä¿å­˜å½“å‰å·¥ä½œ
3. æƒ³è¦é‡æ–°å¼€å§‹ä½†ä¸æƒ³ä¸¢å¤±å½“å‰ä¿®æ”¹

---

### 10. æ ‡ç­¾ï¼ˆTagï¼‰

æ ‡ç­¾ç”¨äºæ ‡è®°é‡è¦çš„æäº¤ç‚¹ï¼Œå¦‚ç‰ˆæœ¬å‘å¸ƒã€‚

```bash
# æŸ¥çœ‹æ ‡ç­¾
git tag

# æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯
git show v1.0.0

# åˆ›å»ºè½»é‡æ ‡ç­¾
git tag v1.0.0

# åˆ›å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾ï¼ˆæ¨èï¼‰
git tag -a v1.0.0 -m "ç‰ˆæœ¬ 1.0.0 å‘å¸ƒ"

# ä¸ºå†å²æäº¤åˆ›å»ºæ ‡ç­¾
git tag -a v0.9.0 <commit-id> -m "ç‰ˆæœ¬ 0.9.0"

# æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹
git push origin v1.0.0

# æ¨é€æ‰€æœ‰æ ‡ç­¾
git push origin --tags

# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.0.0

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin --delete v1.0.0
# æˆ–
git push origin :refs/tags/v1.0.0

# æ£€å‡ºæ ‡ç­¾ï¼ˆåˆ›å»ºæ–°åˆ†æ”¯ï¼‰
git checkout -b branch-name v1.0.0
```

**æ ‡ç­¾å‘½åè§„èŒƒï¼š**
- è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š`vä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·`
- ç¤ºä¾‹ï¼š`v1.0.0`, `v2.1.3`, `v1.0.0-beta`

---

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### åŸºç¡€å‘½ä»¤

```bash
git init                    # åˆå§‹åŒ–ä»“åº“
git clone <url>             # å…‹éš†ä»“åº“
git status                  # æŸ¥çœ‹çŠ¶æ€
git add <file>              # æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .                   # æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git commit -m "msg"         # æäº¤ä¿®æ”¹
git push                    # æ¨é€åˆ°è¿œç¨‹
git pull                    # æ‹‰å–è¿œç¨‹æ›´æ–°
```

### æŸ¥çœ‹å†å²

```bash
git log                     # æŸ¥çœ‹æäº¤å†å²
git log --oneline           # ç®€æ´æŸ¥çœ‹å†å²
git log --graph             # å›¾å½¢åŒ–æŸ¥çœ‹åˆ†æ”¯
git log -n 5                # æŸ¥çœ‹æœ€è¿‘ 5 æ¬¡æäº¤
git show <commit>           # æŸ¥çœ‹æŸæ¬¡æäº¤è¯¦æƒ…
git diff                    # æŸ¥çœ‹å·¥ä½œåŒºä¿®æ”¹
git diff --staged           # æŸ¥çœ‹æš‚å­˜åŒºä¿®æ”¹
git diff HEAD               # æŸ¥çœ‹å·¥ä½œåŒºä¸æœ€æ–°æäº¤çš„å·®å¼‚
```

### æ’¤é”€æ“ä½œ

```bash
git checkout -- <file>      # æ’¤é”€å·¥ä½œåŒºä¿®æ”¹
git restore <file>          # æ’¤é”€å·¥ä½œåŒºä¿®æ”¹ï¼ˆæ–°å‘½ä»¤ï¼‰
git reset HEAD <file>       # å–æ¶ˆæš‚å­˜
git restore --staged <file> # å–æ¶ˆæš‚å­˜ï¼ˆæ–°å‘½ä»¤ï¼‰
git reset --soft HEAD~1     # æ’¤é”€æäº¤ï¼ˆä¿ç•™ä¿®æ”¹ï¼‰
git reset --hard HEAD~1     # æ’¤é”€æäº¤ï¼ˆä¸¢å¼ƒä¿®æ”¹ï¼‰
git revert <commit>         # åå‘æäº¤
```

### è¿œç¨‹ä»“åº“

```bash
git remote -v               # æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote add <name> <url> # æ·»åŠ è¿œç¨‹ä»“åº“
git remote remove <name>    # åˆ é™¤è¿œç¨‹ä»“åº“
git fetch                   # è·å–è¿œç¨‹æ›´æ–°
git pull                    # æ‹‰å–å¹¶åˆå¹¶
git push                    # æ¨é€åˆ°è¿œç¨‹
git push -u origin <branch> # æ¨é€å¹¶è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
```

### æš‚å­˜å·¥ä½œè¿›åº¦

```bash
git stash                   # ä¿å­˜å·¥ä½œè¿›åº¦
git stash list              # æŸ¥çœ‹ä¿å­˜çš„å·¥ä½œè¿›åº¦
git stash pop               # æ¢å¤å¹¶åˆ é™¤å·¥ä½œè¿›åº¦
git stash apply             # æ¢å¤å·¥ä½œè¿›åº¦ï¼ˆä¿ç•™ï¼‰
git stash drop              # åˆ é™¤å·¥ä½œè¿›åº¦
git stash clear             # æ¸…ç©ºæ‰€æœ‰å·¥ä½œè¿›åº¦
```

### æ ‡ç­¾

```bash
git tag                     # æŸ¥çœ‹æ ‡ç­¾
git tag v1.0.0              # åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0 -m "msg"  # åˆ›å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾
git push origin v1.0.0      # æ¨é€æ ‡ç­¾
git push origin --tags      # æ¨é€æ‰€æœ‰æ ‡ç­¾
git tag -d v1.0.0           # åˆ é™¤æœ¬åœ°æ ‡ç­¾
```

---

## ä½¿ç”¨ .gitignore

åˆ›å»º `.gitignore` æ–‡ä»¶ï¼Œå¿½ç•¥ä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ã€‚

### åŸºæœ¬è¯­æ³•

```gitignore
# è¿™æ˜¯æ³¨é‡Š

# å¿½ç•¥æ‰€æœ‰ .log æ–‡ä»¶
*.log

# å¿½ç•¥ node_modules ç›®å½•
node_modules/

# å¿½ç•¥ dist ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
dist/

# ä½†ä¸å¿½ç•¥ dist/index.html
!dist/index.html

# åªå¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶
/TODO

# å¿½ç•¥ doc/ ç›®å½•ä¸‹çš„æ‰€æœ‰ .txt æ–‡ä»¶
doc/**/*.txt
```

### å¸¸ç”¨ .gitignore æ¨¡æ¿

#### Node.js é¡¹ç›®

```gitignore
# Node.js
node_modules/
npm-debug.log
yarn-error.log
package-lock.json
.env

# Build
dist/
build/

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db
```

#### Python é¡¹ç›®

```gitignore
# Python
__pycache__/
*.pyc
*.pyo
*.pyd
.Python
*.so
*.egg
*.egg-info/
dist/
build/

# Virtual Environment
venv/
env/
ENV/

# IDE
.vscode/
.idea/
*.swp

# OS
.DS_Store

# Environment
.env
```

#### Java é¡¹ç›®

```gitignore
# Java
*.class
*.jar
*.war
*.ear
target/

# IDE
.idea/
*.iml
.eclipse/
.settings/

# OS
.DS_Store
Thumbs.db
```

### .gitignore ä¸ç”Ÿæ•ˆï¼Ÿ

å¦‚æœæ–‡ä»¶å·²ç»è¢« Git è·Ÿè¸ªï¼Œ`.gitignore` ä¸ä¼šç”Ÿæ•ˆã€‚éœ€è¦å…ˆå–æ¶ˆè·Ÿè¸ªï¼š

```bash
# ä» Git ä¸­åˆ é™¤æ–‡ä»¶ï¼ˆä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼‰
git rm --cached æ–‡ä»¶å

# åˆ é™¤æ•´ä¸ªç›®å½•
git rm -r --cached ç›®å½•å

# æäº¤æ›´æ”¹
git commit -m "chore: æ›´æ–° .gitignore"
```

---

## ä¸‹ä¸€æ­¥

æŒæ¡åŸºæœ¬æ¦‚å¿µå’Œæ“ä½œåï¼Œç»§ç»­å­¦ä¹ ï¼š

ğŸ‘‰ **[03 - Git åˆ†æ”¯ç®¡ç†](./03-Gitåˆ†æ”¯ç®¡ç†.md)** - å­¦ä¹  Git åˆ†æ”¯çš„åˆ›å»ºã€åˆå¹¶å’Œç®¡ç†

---

## ğŸ’¡ å®ç”¨å°è´´å£«

1. **æäº¤é¢‘ç‡**ï¼š
   - ç»å¸¸æäº¤ï¼Œä¿æŒæäº¤ç²’åº¦é€‚ä¸­
   - æ¯ä¸ªæäº¤åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŠŸèƒ½æˆ–ä¿®å¤
   - ä¸è¦æŠŠå¤šä¸ªä¸ç›¸å…³çš„ä¿®æ”¹æ”¾åœ¨ä¸€ä¸ªæäº¤ä¸­

2. **æäº¤ä¿¡æ¯**ï¼š
   - ç¬¬ä¸€è¡Œä¸è¶…è¿‡ 50 å­—ç¬¦ï¼ˆç®€çŸ­æè¿°ï¼‰
   - è¯¦ç»†æè¿°åº”è¯¥è¯´æ˜"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"æ˜¯ä»€ä¹ˆ"
   - ä½¿ç”¨ç¥ˆä½¿è¯­æ°”ï¼š"æ·»åŠ "è€Œä¸æ˜¯"æ·»åŠ äº†"

3. **å·¥ä½œæµç¨‹**ï¼š
   - å…»æˆ `git status` ä¹ æƒ¯ï¼Œéšæ—¶äº†è§£çŠ¶æ€
   - æäº¤å‰ä½¿ç”¨ `git diff` æ£€æŸ¥ä¿®æ”¹
   - æ¨é€å‰ä½¿ç”¨ `git pull` åŒæ­¥è¿œç¨‹æ›´æ–°

4. **å®‰å…¨å»ºè®®**ï¼š
   - ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ï¼‰
   - ä½¿ç”¨ `.gitignore` å¿½ç•¥æ•æ„Ÿæ–‡ä»¶
   - å¦‚æœä¸å°å¿ƒæäº¤äº†æ•æ„Ÿä¿¡æ¯ï¼Œç«‹å³ä¿®æ”¹å¯†ç /å¯†é’¥

---

**ç›¸å…³æ•™ç¨‹ï¼š**
- ğŸ‘ˆ [01 - Git å®‰è£…ä¸é…ç½®](./01-Gitå®‰è£…ä¸é…ç½®.md)
- ğŸ‘‰ [03 - Git åˆ†æ”¯ç®¡ç†](./03-Gitåˆ†æ”¯ç®¡ç†.md)
- ğŸ‘ˆ [è¿”å›æ€»è§ˆ](./README.md)

